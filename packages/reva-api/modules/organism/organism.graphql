type Organism {
  id: UUID!
  label: String!
  address: String!
  zip: String!
  city: String!
  contactAdministrativeEmail: String!
  contactAdministrativePhone: String
  website: String
  typology: OrganismTypology!
  organismOnDepartments(departmentId: UUID): [OrganismOnDepartment!]!
  isActive: Boolean!
  fermePourAbsenceOuConges: Boolean!
  informationsCommerciales: OrganismInformationsCommerciales
  maisonMereAAP: MaisonMereAAP
}

type MaisonMereAAP {
  id: UUID!
  label: String!
  address: String!
  zip: String!
  city: String!
  contactAdministrativeEmail: String!
  contactAdministrativePhone: String
  website: String
  typology: OrganismTypology!
  isActive: Boolean!
  agences: [Organism!]!
  maisonMereAAPOnDepartements: [MaisonMereAAPOnDepartment!]!
}

type Account {
  agences: [Organism!]!
  maisonMereAAP: MaisonMereAAP
}

type MaisonMereAAPOnDepartment {
  estSurPlace: Boolean!
  estADistance: Boolean!
  departement: Department!
}

type OrganismOnDepartment {
  id: UUID!
  organismId: UUID!
  departmentId: UUID!
  isRemote: Boolean!
  isOnSite: Boolean!
}

enum ConformiteNormeAccessibilite {
  CONFORME
  NON_CONFORME
  ETABLISSEMENT_NE_RECOIT_PAS_DE_PUBLIC
}

type OrganismInformationsCommerciales {
  id: UUID!
  organismId: UUID!
  nom: String
  telephone: String
  siteInternet: String
  emailContact: String
  adresseNumeroEtNomDeRue: String
  adresseInformationsComplementaires: String
  adresseCodePostal: String
  adresseVille: String
  conformeNormesAccessbilite: ConformiteNormeAccessibilite
}

type Query {
  organism_getOrganism(id: ID!): Organism
}

input UpdateOrganismInput {
  label: String!
  contactAdministrativeEmail: String!
  contactAdministrativePhone: String
  website: String
  isActive: Boolean!
}

input CreateOrUpdateInformationsCommercialesInput {
  organismId: UUID!
  nom: String
  telephone: String
  siteInternet: String
  emailContact: String
  adresseNumeroEtNomDeRue: String
  adresseInformationsComplementaires: String
  adresseCodePostal: String
  adresseVille: String
  conformeNormesAccessbilite: ConformiteNormeAccessibilite
}

input DepartmentWithOrganismMethodsInput {
  departmentId: UUID!
  isOnSite: Boolean!
  isRemote: Boolean!
}

input CreateOrganismInput {
  nom: String!
  address: String!
  adresseInformationsComplementaires: String
  zip: String!
  city: String!
  contactAdministrativeEmail: String!
  contactAdministrativePhone: String!
  website: String
  conformeNormesAccessbilite: ConformiteNormeAccessibilite!
  departmentsWithOrganismMethods: [DepartmentWithOrganismMethodsInput!]!
  firstname: String!
  lastname: String!
  email: String!
}

type Mutation {
  organism_updateOrganism(
    organismId: ID!
    organismData: UpdateOrganismInput!
  ): Organism!
  organism_createOrUpdateInformationsCommerciales(
    informationsCommerciales: CreateOrUpdateInformationsCommercialesInput!
  ): OrganismInformationsCommerciales!
  organism_updateFermePourAbsenceOuConges(
    organismId: ID!
    fermePourAbsenceOuConges: Boolean!
  ): OrganismInformationsCommerciales!
  organism_createOrganismWithMaisonMereAAP(
    organismData: CreateOrganismInput!
  ): String!
}
